<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>VD-MPT</title>
  <!-- plugins:css -->
  <link rel="stylesheet"
    href="{{ url_for('static', filename='assets/vendors/iconfonts/mdi/css/materialdesignicons.min.css') }}">
  <link rel="stylesheet"
    href="{{ url_for('static', filename='assets/vendors/iconfonts/ionicons/dist/css/ionicons.css') }}">
  <link rel="stylesheet"
    href="{{ url_for('static', filename='assets/vendors/iconfonts/flag-icon-css/css/flag-icon.min.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='assets/vendors/css/vendor.bundle.base.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='assets/vendors/css/vendor.bundle.addons.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/shared/style.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/demo_1/style.css') }}">
</head>

<body>
  <div class="container-scroller">
    <!-- partial -->
    <div class="container-fluid page-body-wrapper">
      <!-- partial -->
      <div class="main-panel">
        <div class="content-wrapper">
          <!-- Page Title Header Starts-->
          <div class="row page-title-header">
            <div class="col-12">
              <div class="page-header justify-content-between">
                <h1 class="page-title">VD-MPT</h1>
                  <div style="float: left;">
                      <button type="button" class="btn btn-outline-success btn-fw">
                        <i class="mdi mdi-code-tags"></i>Results Details
                      </button>
                      <button onclick="window.location.href='/download_report'" type="button" class="btn btn-outline-success btn-fw">
                        <i class="mdi mdi-file-download"></i>Download Report
                      </button>
                  </div>

              </div>
              <!-- Page Title Header Ends-->
              <div class="row">
                <div class="col-md-12 grid-margin">
                  <div class="card">
                    <div class="card-body">
                      <div class="row justify-content-between">
                       
                        <div class="col-lg-0  col-separator">
                          <!-- <div class="d-flex">
                            <div class="wrapper">
                              <h3 class="mb-0 font-weight-semibold">Payloads</h3>
                              <h4 align="center" class="mb-0 font-weight-medium text-primary">{{ payloads }}</h4>
                            </div>
                          </div> -->
                        </div>
                        
                        <div class="col-lg-2 col-md-6 mt-md-0 mt-4 col-separator">
                          <div class="d-flex">
                            <div class="wrapper">

                              <h3 class="mb-0 font-weight-semibold">Payloads</h3>
                              <h4 align="center" style="font-weight: bold; margin-top: 8px;" class="mb-0 font-weight-medium text-primary">{{ payloads }}</h4>
                            </div>
                          </div>
                        </div>
                      
                        <div class="col-lg-2 col-md-6 mt-md-0 mt-4 col-separator">
                          <div class="d-flex">
                            <div class="wrapper">
                              <h3 class="mb-0 font-weight-semibold">Site Status</h3>
                              <h4 align="center" style="font-weight: bold; margin-top: 8px;" class="mb-0 font-weight-medium text-primary">{{ site_state }}</h4>
                            </div>
                          </div>
                        </div>
                      
                        <div class="col-lg-2 col-md-6 mt-md-0 mt-4 col-separator">
                          <div class="d-flex">
                            <div class="wrapper">
                              <h3 class="mb-0 font-weight-semibold">Potentiality</h3>
                              <h4 align="center" style="font-weight: bold; margin-top: 8px;" class="mb-0 font-weight-medium text-primary">{{ potentiality }}</h4>
                            </div>
                          </div>
                        </div>
                      
                      
                        <div class="col-lg-2 col-md-6 mt-md-0 mt-4 col-separator">
                          <div class="d-flex">
                            <div class="wrapper">
                              <h3 class="mb-0 font-weight-semibold">Tools Excute</h3>
                              <h4 align="center" style="font-weight: bold; margin-top: 8px;" class="mb-0 font-weight-medium text-primary">{{ tools_executed }}</h4>
                            </div>
                          </div>
                        </div>
                      
                        <div class="col-lg-2 col-md-6 mt-md-0 mt-4">
                          <div class="d-flex">
                            <div class="wrapper">
                              <h3 class="mb-0 font-weight-semibold">Database Type</h3>
                              <h4 align="center" style="font-weight: bold; margin-top: 8px;" class="mb-0 font-weight-medium text-primary">{{ DataBaseType }}</h4>
                            </div>
                          </div>
                        </div>
                      </div>
                      <style>
                        .col-separator:not(:last-child)::after {
                              content: "";
                              position: absolute;
                              right: 0;
                              top: 0;
                              height: 100%;
                              width: 2px; /* Adjust the width as per your preference */
                              background-color: #8862e0; /* Adjust the color as per your preference */
                            }
                      </style>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-8 grid-margin">
                  <div class="card">
                    <div class="card-body">
                      <h4 class="card-title mb-0 ">Vulnerabilities Threats Level</h4>
                      <!-- <div class="d-flex align-items-center justify-content-between w-100">
                        <p class="mb-0">State and Criticality of The Vulnerabilities</p>
                      </div>
                      <div class="d-flex align-items-end">
                        <h3 class="mb-0 font-weight-semibold">78 %</h3>
                        <p class="mb-0 font-weight-medium mr-2 ml-2 mb-1">Avarage</p>
                      </div> -->
                      <canvas class="mt-4" height="100" id="market-overview-chart"></canvas>
                    </div>
                  </div>
                </div>
                <div class="col-lg-4 grid-margin stretch-card">
                  <div class="card">
                    <div class="p-4 pr-5 border-bottom bg-light d-flex justify-content-between">
                      <h4 class="card-title mb-0">Site risk rating</h4>
                      <id id="pie-chart-legend" class="mr-4"></id>
                    </div>
                    <div class="card-body d-flex flex-column">
                      <canvas class="my-auto" id="pieChart" height="200"></canvas>
                      <div class="d-flex mt-5 py-3 border-top">
                        <div class="d-flex mr-auto">
                          <p class="mb-0 font-weight-semibold"><span class="dot-indicator bg-success"></span>Low</p>
                          <p class="mb-0 ml-2 text-primary">{{doughnutChart_Low}}</p>
                        </div>
                        <div class="d-flex mr-auto">
                          <p class="mb-0 font-weight-semibold"><span class="dot-indicator bg-success"></span>Medium</p>
                          <p class="mb-0 ml-2 text-primary">{{doughnutChart_Medium}}</p>
                        </div>
                        <div class="d-flex">
                          <p class="mb-0 font-weight-semibold"><span class="dot-indicator bg-success"></span>High</p>
                          <p class="mb-0 ml-2 text-primary">{{doughnutChart_High}}</p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                
                
                <div class="col-lg-4 grid-margin stretch-card">
                  <div class="card">
                    <div class="p-4 pr-5 border-bottom bg-light d-flex justify-content-between">
                      <h4 class="card-title mb-0">Threats Mapping Area</h4>
                      <div id="radar-chart-legend"></div>
                    </div>
                    <div class="card-body">
                      <canvas class="mt-4" id="radarChart" style="height:250px"></canvas>
                      <!-- <div class="d-flex mt-5 py-3 border-top">
                        <p class="mb-0 font-weight-semibold"><span class="dot-indicator bg-success"></span> Student A </p>
                        <p class="mb-0 ml-auto text-primary">56%</p>
                      </div>
                      <div class="d-flex pt-3 border-top">
                        <p class="mb-0 font-weight-semibold"><span class="dot-indicator bg-success"></span> Student B</p>
                        <p class="mb-0 ml-auto text-primary">34%</p>
                      </div> -->

                    </div>
                  </div>
                </div>

                <div class="col-lg-8 grid-margin stretch-card">
                  <div class="card">
                    <div class="card-body">
                      <h4 style="font-size: large;" class="card-title">Site Technologies & Potential Exploitation</h4>
                      <!-- <style>
                        .table td {
                          white-space: normal;
                          word-break: break-word;
                        }
                      </style> -->
                      <table class="table" style="margin-top: 40px;">
                        <thead>
                          <tr>
                            <th>Technology</th>
                            <th>Version</th>
                            <th>WebSite</th>
                            <th>Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          {% for technology in technologies_info %}
                          <tr>
                            <td>{{ technology.slug }}</td>
                            <td>
                              <label style="padding: 4px 8px; font-size: 12px;" class="badge badge-purple">{{ technology.version }}</label>
                            </td>
                            <td>{{ technology.website }}</td>
                            <td style="white-space: normal; word-break: break-word;">{{ technology.description }}</td>
                          </tr>
                          {% endfor %}
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>

              </div>
            </div>
            <script src="{{ url_for('static', filename='assets/vendors/js/vendor.bundle.base.js') }}"></script>
            <script src="{{ url_for('static', filename='assets/vendors/js/vendor.bundle.addons.js') }}"></script>
            <script src="{{ url_for('static', filename='assets/js/shared/off-canvas.js') }}"></script>
            <script src="{{ url_for('static', filename='assets/js/shared/misc.js') }}"></script>
            <script src="{{ url_for('static', filename='assets/js/demo_1/dashboard.js') }}"></script>
            <script src="{{ url_for('static', filename='assets/js/shared/jquery.cookie.js') }}"
              type="text/javascript"></script>

            {% set doughnutChart_Low = doughnutChart_Low %}
            {% set doughnutChart_Medium = doughnutChart_Medium %}
            {% set doughnutChart_High = doughnutChart_High %}
            <script>
              var doughnutChart_Low = {{ doughnutChart_Low }};
              var doughnutChart_Medium = {{ doughnutChart_Medium }};
              var doughnutChart_High = {{ doughnutChart_High }};
            </script>
</body>

</html>